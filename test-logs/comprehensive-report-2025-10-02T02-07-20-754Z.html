<!DOCTYPE html>
<html>
<head>
    <title>Test Report - 2025-10-02T02:07:20.754Z</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .status-passed { color: green; }
        .status-failed { color: red; }
        .status-warning { color: orange; }
        .metric { background: #f5f5f5; padding: 10px; margin: 5px 0; border-radius: 5px; }
    </style>
</head>
<body>
    <h1>Comprehensive Test Report</h1>
    <div class="metric">
        <strong>Overall Status:</strong>
        <span class="status-warning">WARNING</span>
    </div>
    <div class="metric"><strong>Total Tests:</strong> 8</div>
    <div class="metric"><strong>Success Rate:</strong> 12.50%</div>
    <div class="metric"><strong>Critical Issues:</strong> 0</div>

    <h2>Test Results</h2>
    <h3>Failed Tests</h3><ul><li><strong>should never expose password hashes in user list</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

Expected: [32m200[39m
Received: [31m500[39m
    at Object.toBe (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:99:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li><li><strong>should mask PII data in production</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

Expected: [32m200[39m
Received: [31m500[39m
    at Object.toBe (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:131:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li><li><strong>should sanitize error responses</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

Expected substring: not [32m"Database error"[39m
Received string:        [31m"[7mDatabase error[27m: [REDACTED]"[39m
    at Object.toContain (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:158:30)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li><li><strong>should remove total_count from individual user objects</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

Expected: [32m200[39m
Received: [31m500[39m
    at Object.toBe (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:173:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li><li><strong>should never expose password data in user creation response</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

Expected: [32m201[39m
Received: [31m400[39m
    at Object.toBe (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:202:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li><li><strong>should sanitize user creation error responses</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mnot[2m.[22mtoContain[2m([22m[32mexpected[39m[2m) // indexOf[22m

Expected substring: not [32m"database_url=postgresql://user:pass@localhost"[39m
Received string:        [31m"User creation failed: [7mdatabase_url=postgresql://user:pass@localhost[27m"[39m
    at Object.toContain (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:263:30)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li><li><strong>should handle all authentication field variations</strong>: Error: [2mexpect([22m[31mreceived[39m[2m).[22mtoBe[2m([22m[32mexpected[39m[2m) // Object.is equality[22m

Expected: [32m201[39m
Received: [31m400[39m
    at Object.toBe (Q:\_kyle\temp_documents\GitHub\business_scraper\src\__tests__\api\users-security.test.ts:322:31)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)</li></ul>

    <p><em>Generated at 2025-10-02T02:07:20.754Z by EnhancedTestLogger</em></p>
</body>
</html>