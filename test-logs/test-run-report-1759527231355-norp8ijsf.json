{"timestamp":"2025-10-03T21:33:52.800Z","suite":"Payment-processing","testCase":"should create payment intent with proper validation","error":"PaymentError: Failed to create payment intent\n    at StripeService.createPaymentIntent (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\model\\stripeService.ts:197:13)\n    at Object.createPaymentIntent (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\critical\\payment-processing.test.ts:45:49)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\critical\\payment-processing.test.ts","stack":"PaymentError: Failed to create payment intent\n    at StripeService.createPaymentIntent (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\model\\stripeService.ts:197:13)\n    at Object.createPaymentIntent (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\critical\\payment-processing.test.ts:45:49)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)","category":"functional","severity":"low","retryCount":0}}
{"timestamp":"2025-10-03T21:33:52.808Z","suite":"Payment-processing","testCase":"should handle payment failures gracefully","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Your card was declined.\"\u001b[39m\nReceived message:   \u001b[31m\"Failed to create payment intent\"\u001b[39m\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 196 |\u001b[39m       logger\u001b[33m.\u001b[39merror(\u001b[32m'StripeService'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Failed to create payment intent'\u001b[39m\u001b[33m,\u001b[39m error)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPaymentError\u001b[39m(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m         \u001b[32m'Failed to create payment intent'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 199 |\u001b[39m         \u001b[32m'PAYMENT_INTENT_CREATION_FAILED'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 200 |\u001b[39m         error \u001b[36mas\u001b[39m \u001b[33mStripe\u001b[39m\u001b[33m.\u001b[39m\u001b[33mStripeRawError\u001b[39m\u001b[0m\n\n      \u001b[2mat StripeService.createPaymentIntent (\u001b[22msrc/model/stripeService.ts\u001b[2m:197:13)\u001b[22m\n      \u001b[2mat Object.createPaymentIntent (\u001b[22msrc/__tests__/critical/payment-processing.test.ts\u001b[2m:73:23)\u001b[22m\n    at Object.toThrow (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.toThrow (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\critical\\payment-processing.test.ts:74:17)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\critical\\payment-processing.test.ts","stack":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mrejects\u001b[2m.\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected substring: \u001b[32m\"Your card was declined.\"\u001b[39m\nReceived message:   \u001b[31m\"Failed to create payment intent\"\u001b[39m\n\n    \u001b[0m \u001b[90m 195 |\u001b[39m     } \u001b[36mcatch\u001b[39m (error) {\n     \u001b[90m 196 |\u001b[39m       logger\u001b[33m.\u001b[39merror(\u001b[32m'StripeService'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m'Failed to create payment intent'\u001b[39m\u001b[33m,\u001b[39m error)\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 197 |\u001b[39m       \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPaymentError\u001b[39m(\n     \u001b[90m     |\u001b[39m             \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 198 |\u001b[39m         \u001b[32m'Failed to create payment intent'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 199 |\u001b[39m         \u001b[32m'PAYMENT_INTENT_CREATION_FAILED'\u001b[39m\u001b[33m,\u001b[39m\n     \u001b[90m 200 |\u001b[39m         error \u001b[36mas\u001b[39m \u001b[33mStripe\u001b[39m\u001b[33m.\u001b[39m\u001b[33mStripeRawError\u001b[39m\u001b[0m\n\n      \u001b[2mat StripeService.createPaymentIntent (\u001b[22msrc/model/stripeService.ts\u001b[2m:197:13)\u001b[22m\n      \u001b[2mat Object.createPaymentIntent (\u001b[22msrc/__tests__/critical/payment-processing.test.ts\u001b[2m:73:23)\u001b[22m\n    at Object.toThrow (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\expect\\build\\index.js:218:22)\n    at Object.toThrow (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\critical\\payment-processing.test.ts:74:17)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)","category":"functional","severity":"medium","retryCount":0}}
