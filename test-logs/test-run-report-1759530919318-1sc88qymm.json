{"timestamp":"2025-10-03T22:35:40.752Z","suite":"Auth.comprehensive","testCase":"should authenticate valid user credentials","error":"TypeError: Cannot read properties of null (reading 'id')\n    at Object.id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:253:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at Object.id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:253:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"critical","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.757Z","suite":"Auth.comprehensive","testCase":"should generate MFA secret successfully","error":"Error: Failed to generate MFA secret\n    at generateMFASecret (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\lib\\auth.ts:377:11)\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:328:45)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"Error: Failed to generate MFA secret\n    at generateMFASecret (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\lib\\auth.ts:377:11)\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:328:45)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)","category":"functional","severity":"low","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.762Z","suite":"Auth.comprehensive","testCase":"should verify MFA through authentication flow","error":"TypeError: Cannot read properties of null (reading 'id')\n    at Object.id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:375:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at Object.id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:375:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"critical","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.766Z","suite":"Auth.comprehensive","testCase":"should handle authentication without MFA","error":"TypeError: Cannot read properties of null (reading 'id')\n    at Object.id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:427:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at Object.id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:427:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"critical","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.772Z","suite":"Auth.comprehensive","testCase":"should enable MFA for user with valid code","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:442:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:442:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"medium","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.775Z","suite":"Auth.comprehensive","testCase":"should disable MFA for user","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:450:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:450:22)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"medium","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.779Z","suite":"Auth.comprehensive","testCase":"should enforce password security requirements","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"password123\"\u001b[39m, \u001b[32m\"weak-hash\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:475:34)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"password123\"\u001b[39m, \u001b[32m\"weak-hash\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:475:34)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"medium","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.782Z","suite":"Auth.comprehensive","testCase":"should handle GDPR compliance flags","error":"TypeError: Cannot read properties of null (reading 'complianceFlags')\n    at Object.complianceFlags (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:501:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"TypeError: Cannot read properties of null (reading 'complianceFlags')\n    at Object.complianceFlags (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:501:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"critical","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.787Z","suite":"Auth.comprehensive","testCase":"should update last login timestamp","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mStringContaining \"UPDATE users SET last_login = NOW()\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:529:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mStringContaining \"UPDATE users SET last_login = NOW()\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:529:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"medium","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.791Z","suite":"Auth.comprehensive","testCase":"should handle authentication with MFA requirement","error":"TypeError: Cannot read properties of null (reading 'mfaEnabled')\n    at Object.mfaEnabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:558:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"TypeError: Cannot read properties of null (reading 'mfaEnabled')\n    at Object.mfaEnabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:558:21)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"critical","retryCount":0}}
{"timestamp":"2025-10-03T22:35:40.795Z","suite":"Auth.comprehensive","testCase":"should handle concurrent authentication requests","error":"TypeError: Cannot read properties of null (reading 'id')\n    at id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:614:23)\n    at Array.forEach (<anonymous>)\n    at Object.forEach (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:612:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts","stack":"TypeError: Cannot read properties of null (reading 'id')\n    at id (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:614:23)\n    at Array.forEach (<anonymous>)\n    at Object.forEach (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\lib\\auth.comprehensive.test.ts:612:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","category":"functional","severity":"critical","retryCount":0}}
