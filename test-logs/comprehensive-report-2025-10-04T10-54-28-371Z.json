{
  "metadata": {
    "reportId": "report-1759575263205-orbp05csx",
    "generatedAt": "2025-10-04T10:54:28.371Z",
    "version": "2.0.0",
    "reportType": "comprehensive",
    "generator": "EnhancedTestLogger"
  },
  "executiveSummary": {
    "overallStatus": "warning",
    "totalSuites": 0,
    "totalTests": 142,
    "successRate": 74.64788732394366,
    "criticalIssues": 0,
    "keyMetrics": {
      "averageDuration": 863.2746478873239,
      "memoryPeak": 146404800,
      "flakyTests": 0
    },
    "qualityGate": "failed"
  },
  "testInventory": {
    "suites": [],
    "categories": {
      "unit": 142,
      "integration": 0,
      "e2e": 0,
      "system": 0,
      "regression": 0,
      "acceptance": 0,
      "performance": 0,
      "load": 0,
      "security": 0,
      "compatibility": 0,
      "accessibility": 0,
      "exploratory": 0
    },
    "priorities": {
      "critical": 1,
      "high": 2,
      "medium": 139,
      "low": 0
    },
    "environments": [
      "test"
    ]
  },
  "detailedResults": {
    "failures": [
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should reject requests without signature header::1759575268138",
          "testName": "should reject requests without signature header",
          "testDescription": "should reject requests without signature header",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145204240,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254189568
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Missing webhook signature\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:43:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Missing webhook signature\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:43:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should reject requests without signature header",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should reject requests with invalid signatures::1759575268173",
          "testName": "should reject requests with invalid signatures",
          "testDescription": "should reject requests with invalid signatures",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145232056,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254193664
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Invalid webhook signature\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:64:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Invalid webhook signature\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:64:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should reject requests with invalid signatures",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should accept requests with valid signatures::1759575268179",
          "testName": "should accept requests with valid signatures",
          "testDescription": "should accept requests with valid signatures",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145242928,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254193664
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"{\\\"id\\\":\\\"evt_test123\\\",\\\"object\\\":\\\"event\\\",\\\"api_version\\\":\\\"2024-06-20\\\",\\\"created\\\":1759575266.071,\\\"data\\\":{\\\"object\\\":{},\\\"previous_attributes\\\":{}},\\\"livemode\\\":false,\\\"pending_webhooks\\\":1,\\\"request\\\":{\\\"id\\\":\\\"req_test123\\\",\\\"idempotency_key\\\":null},\\\"type\\\":\\\"payment_intent.succeeded\\\"}\"\u001b[39m, \u001b[32m\"t=1759575266071,v1=test-signature-261\"\u001b[39m, \u001b[32mAny<String>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:85:61)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"{\\\"id\\\":\\\"evt_test123\\\",\\\"object\\\":\\\"event\\\",\\\"api_version\\\":\\\"2024-06-20\\\",\\\"created\\\":1759575266.071,\\\"data\\\":{\\\"object\\\":{},\\\"previous_attributes\\\":{}},\\\"livemode\\\":false,\\\"pending_webhooks\\\":1,\\\"request\\\":{\\\"id\\\":\\\"req_test123\\\",\\\"idempotency_key\\\":null},\\\"type\\\":\\\"payment_intent.succeeded\\\"}\"\u001b[39m, \u001b[32m\"t=1759575266071,v1=test-signature-261\"\u001b[39m, \u001b[32mAny<String>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:85:61)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should accept requests with valid signatures",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should validate event timestamps::1759575268183",
          "testName": "should validate event timestamps",
          "testDescription": "should validate event timestamps",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145268512,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254193664
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"old event\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:198:38)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"old event\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:198:38)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should validate event timestamps",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should handle subscription events securely::1759575268187",
          "testName": "should handle subscription events securely",
          "testDescription": "should handle subscription events securely",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145278968,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254193664
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"user-123\"\u001b[39m, \u001b[32mObjectContaining {\"subscriptionId\": \"sub_test123\", \"subscriptionStatus\": \"active\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:234:68)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"user-123\"\u001b[39m, \u001b[32mObjectContaining {\"subscriptionId\": \"sub_test123\", \"subscriptionStatus\": \"active\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:234:68)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle subscription events securely",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should handle payment intent events securely::1759575268191",
          "testName": "should handle payment intent events securely",
          "testDescription": "should handle payment intent events securely",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145295624,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254197760
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"user-123\"\u001b[39m, \u001b[32mObjectContaining {\"amount\": 1000, \"paymentIntentId\": \"pi_test123\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:267:64)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"user-123\"\u001b[39m, \u001b[32mObjectContaining {\"amount\": 1000, \"paymentIntentId\": \"pi_test123\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:267:64)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle payment intent events securely",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should handle invoice events securely::1759575268199",
          "testName": "should handle invoice events securely",
          "testDescription": "should handle invoice events securely",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145306304,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254193664
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Invoice payment succeeded\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:297:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Invoice payment succeeded\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:297:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle invoice events securely",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should reject unknown event types safely::1759575268202",
          "testName": "should reject unknown event types safely",
          "testDescription": "should reject unknown event types safely",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145316888,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254193664
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Unknown event type\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:322:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Unknown event type\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:322:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should reject unknown event types safely",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should validate request origin::1759575268207",
          "testName": "should validate request origin",
          "testDescription": "should validate request origin",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145332304,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254197760
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"webhook from IP\"\u001b[39m, \u001b[32mObjectContaining {\"ip\": \"1.2.3.4\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:371:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"webhook from IP\"\u001b[39m, \u001b[32mObjectContaining {\"ip\": \"1.2.3.4\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:371:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should validate request origin",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should handle processing errors gracefully::1759575268213",
          "testName": "should handle processing errors gracefully",
          "testDescription": "should handle processing errors gracefully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145357200,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254210048
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:403:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:403:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle processing errors gracefully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should handle business logic errors without retry::1759575268222",
          "testName": "should handle business logic errors without retry",
          "testDescription": "should handle business logic errors without retry",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145375416,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254279680
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"User not found\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:428:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"User not found\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:428:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle business logic errors without retry",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should implement idempotency for webhook processing::1759575268226",
          "testName": "should implement idempotency for webhook processing",
          "testDescription": "should implement idempotency for webhook processing",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145386736,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254279680
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledTimes\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected number of calls: \u001b[32m1\u001b[39m\nReceived number of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledTimes (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:458:64)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledTimes\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected number of calls: \u001b[32m1\u001b[39m\nReceived number of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledTimes (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:458:64)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should implement idempotency for webhook processing",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledTimes\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should log all webhook events for audit trail::1759575268233",
          "testName": "should log all webhook events for audit trail",
          "testDescription": "should log all webhook events for audit trail",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145397000,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254279680
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Webhook received\"\u001b[39m, \u001b[32mObjectContaining {\"eventId\": \"evt_test123\", \"eventType\": \"payment_intent.succeeded\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:477:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Webhook received\"\u001b[39m, \u001b[32mObjectContaining {\"eventId\": \"evt_test123\", \"eventType\": \"payment_intent.succeeded\"}\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:477:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should log all webhook events for audit trail",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Stripe-webhook-enhanced::should detect and log suspicious webhook patterns::1759575268240",
          "testName": "should detect and log suspicious webhook patterns",
          "testDescription": "should detect and log suspicious webhook patterns",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
          "suite": "Stripe-webhook-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575265808,
          "endTime": 1759575266367,
          "duration": 559,
          "memoryUsage": {
            "heapUsed": 145408216,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254279680
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"High frequency webhooks\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:507:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"High frequency webhooks\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts:507:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should detect and log suspicious webhook patterns",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\stripe-webhook-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should detect and prevent amount manipulation attacks::1759575268247",
          "testName": "should detect and prevent amount manipulation attacks",
          "testDescription": "should detect and prevent amount manipulation attacks",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145571360,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254279680
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Amount manipulation\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:54:38)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Amount manipulation\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:54:38)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should detect and prevent amount manipulation attacks",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should implement velocity checks::1759575268252",
          "testName": "should implement velocity checks",
          "testDescription": "should implement velocity checks",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145603528,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254283776
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeInstanceOf\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected constructor: \u001b[32mNextResponse\u001b[39m\n\nReceived value has no prototype\nReceived value: \u001b[31mnull\u001b[39m\n    at Object.toBeInstanceOf (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:92:22)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeInstanceOf\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected constructor: \u001b[32mNextResponse\u001b[39m\n\nReceived value has no prototype\nReceived value: \u001b[31mnull\u001b[39m\n    at Object.toBeInstanceOf (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:92:22)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should implement velocity checks",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeInstanceOf\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should ensure no sensitive card data is logged::1759575268257",
          "testName": "should ensure no sensitive card data is logged",
          "testDescription": "should ensure no sensitive card data is logged",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145618264,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254283776
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"4242424242424242\"\u001b[39m\nReceived string:        \u001b[31m\"[\\\"Payment processed\\\",{\\\"cardNumber\\\":\\\"\u001b[7m4242424242424242\u001b[27m\\\",\\\"cvv\\\":\\\"123\\\",\\\"expiryMonth\\\":\\\"12\\\",\\\"expiryYear\\\":\\\"2025\\\"}]\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:144:30)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: not \u001b[32m\"4242424242424242\"\u001b[39m\nReceived string:        \u001b[31m\"[\\\"Payment processed\\\",{\\\"cardNumber\\\":\\\"\u001b[7m4242424242424242\u001b[27m\\\",\\\"cvv\\\":\\\"123\\\",\\\"expiryMonth\\\":\\\"12\\\",\\\"expiryYear\\\":\\\"2025\\\"}]\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:144:30)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should ensure no sensitive card data is logged",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should prevent CSRF attacks with valid tokens::1759575268264",
          "testName": "should prevent CSRF attacks with valid tokens",
          "testDescription": "should prevent CSRF attacks with valid tokens",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145678920,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254283776
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:395:22)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:395:22)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should prevent CSRF attacks with valid tokens",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should validate webhook signatures correctly::1759575268268",
          "testName": "should validate webhook signatures correctly",
          "testDescription": "should validate webhook signatures correctly",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145709384,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:457:22)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:457:22)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should validate webhook signatures correctly",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should reject invalid webhook signatures::1759575268274",
          "testName": "should reject invalid webhook signatures",
          "testDescription": "should reject invalid webhook signatures",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145729904,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Invalid webhook signature\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:475:36)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Invalid webhook signature\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:475:36)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should reject invalid webhook signatures",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-security-enhanced::should handle signature validation errors::1759575268280",
          "testName": "should handle signature validation errors",
          "testDescription": "should handle signature validation errors",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-security-enhanced.test.ts",
          "suite": "Payment-security-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266469,
          "endTime": 1759575266917,
          "duration": 448,
          "memoryUsage": {
            "heapUsed": 145751176,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Webhook signature validation failed\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:494:37)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Webhook signature validation failed\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts:494:37)\n    at Promise.then.completed (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at _runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at _runTestsForDescribeBlock (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jest-runner\\build\\runTest.js:444:34)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle signature validation errors",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-security-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-routes-enhanced::should handle Stripe API errors gracefully::1759575268291",
          "testName": "should handle Stripe API errors gracefully",
          "testDescription": "should handle Stripe API errors gracefully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
          "suite": "Payment-routes-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266960,
          "endTime": 1759575267407,
          "duration": 447,
          "memoryUsage": {
            "heapUsed": 145946976,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts:147:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts:147:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle Stripe API errors gracefully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-routes-enhanced::should implement rate limiting for payment creation::1759575268296",
          "testName": "should implement rate limiting for payment creation",
          "testDescription": "should implement rate limiting for payment creation",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
          "suite": "Payment-routes-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266960,
          "endTime": 1759575267407,
          "duration": 447,
          "memoryUsage": {
            "heapUsed": 145956896,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Rate limit\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts:166:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32mAny<String>\u001b[39m, \u001b[32mStringContaining \"Rate limit\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts:166:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should implement rate limiting for payment creation",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-routes-enhanced::should handle plan loading errors::1759575268302",
          "testName": "should handle plan loading errors",
          "testDescription": "should handle plan loading errors",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
          "suite": "Payment-routes-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575266960,
          "endTime": 1759575267407,
          "duration": 447,
          "memoryUsage": {
            "heapUsed": 146010552,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts:456:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts:456:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle plan loading errors",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-routes-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should initialize payment system successfully::1759575268311",
          "testName": "should initialize payment system successfully",
          "testDescription": "should initialize payment system successfully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146182352,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Payment system initialized successfully\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:47:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Payment system initialized successfully\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:47:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should initialize payment system successfully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should handle initialization errors gracefully::1759575268315",
          "testName": "should handle initialization errors gracefully",
          "testDescription": "should handle initialization errors gracefully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146194160,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:64:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m\n\nExpected number of calls: >= \u001b[32m1\u001b[39m\nReceived number of calls:    \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:64:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle initialization errors gracefully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalled\u001b[2m()\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should not reinitialize if already initialized::1759575268320",
          "testName": "should not reinitialize if already initialized",
          "testDescription": "should not reinitialize if already initialized",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146204488,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Payment system already initialized\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:73:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Payment system already initialized\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:73:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should not reinitialize if already initialized",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should handle plan loading errors::1759575268325",
          "testName": "should handle plan loading errors",
          "testDescription": "should handle plan loading errors",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146223824,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254287872
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Failed to load subscription plans\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:115:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Failed to load subscription plans\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:115:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle plan loading errors",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should set current user successfully::1759575268330",
          "testName": "should set current user successfully",
          "testDescription": "should set current user successfully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146240856,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Set current user: user-123\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:132:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Set current user: user-123\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:132:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should set current user successfully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should load user payment data after setting user::1759575268334",
          "testName": "should load user payment data after setting user",
          "testDescription": "should load user payment data after setting user",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146260104,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Loaded payment data for user: user-123\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:176:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Loaded payment data for user: user-123\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:176:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should load user payment data after setting user",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should cancel subscription successfully::1759575268340",
          "testName": "should cancel subscription successfully",
          "testDescription": "should cancel subscription successfully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146288080,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: No active subscription to cancel\n    at PaymentController.cancelSubscription (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\controller\\paymentController.ts:173:13)\n    at Object.cancelSubscription (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:242:31)",
          "stack": "Error: No active subscription to cancel\n    at PaymentController.cancelSubscription (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\controller\\paymentController.ts:173:13)\n    at Object.cancelSubscription (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:242:31)",
          "type": "unknown",
          "severity": "low",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should cancel subscription successfully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: No active subscription to cancel"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should require user to be set for feature access::1759575268345",
          "testName": "should require user to be set for feature access",
          "testDescription": "should require user to be set for feature access",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146325128,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"No user set for feature access check\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:296:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"No user set for feature access check\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:296:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should require user to be set for feature access",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should handle feature access check errors gracefully::1759575268350",
          "testName": "should handle feature access check errors gracefully",
          "testDescription": "should handle feature access check errors gracefully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146335824,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Failed to check feature access\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:310:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Failed to check feature access\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:310:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle feature access check errors gracefully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should record feature usage successfully::1759575268355",
          "testName": "should record feature usage successfully",
          "testDescription": "should record feature usage successfully",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146346680,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Recorded feature usage: search for user user-123\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:335:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Recorded feature usage: search for user user-123\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:335:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should record feature usage successfully",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should require user to be set for usage recording::1759575268360",
          "testName": "should require user to be set for usage recording",
          "testDescription": "should require user to be set for usage recording",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146361744,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"No user set for recording feature usage\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:359:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"No user set for recording feature usage\"\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:359:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should require user to be set for usage recording",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Payment-controller-enhanced::should handle usage recording errors::1759575268365",
          "testName": "should handle usage recording errors",
          "testDescription": "should handle usage recording errors",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "relativePath": "src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
          "suite": "Payment-controller-enhanced",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1759575267448,
          "endTime": 1759575268075,
          "duration": 627,
          "memoryUsage": {
            "heapUsed": 146372448,
            "heapTotal": 180776960,
            "external": 11880318,
            "rss": 254291968
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Failed to record feature usage\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:371:37)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"PaymentController\"\u001b[39m, \u001b[32m\"Failed to record feature usage\"\u001b[39m, \u001b[32mAny<Error>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts:371:37)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle usage recording errors",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\payments\\payment-controller-enhanced.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m"
        }
      }
    ],
    "criticalFailures": [],
    "flakyTests": [],
    "slowTests": [],
    "coverageGaps": [
      "src/utils/uncoveredModule.ts",
      "src/components/UntestedComponent.tsx"
    ]
  },
  "issueTracking": {
    "openIssues": [],
    "resolvedIssues": [],
    "newIssuesCreated": [],
    "escalatedIssues": []
  },
  "performanceAnalysis": {
    "executionMetrics": {
      "startTime": 2000.9767,
      "endTime": 7167.4937,
      "duration": 122585,
      "memoryUsage": {
        "heapUsed": 145534423.09859154,
        "heapTotal": 174641307.71830985,
        "external": 14553442.309859155,
        "rss": 218301634.6478873
      }
    },
    "resourceUsage": {
      "totalMemoryUsed": 20665888080,
      "averageTestDuration": 863.2746478873239,
      "totalExecutionTime": 122585
    },
    "bottlenecks": [],
    "optimizationOpportunities": []
  },
  "recommendations": {
    "immediate": [],
    "shortTerm": [],
    "longTerm": [
      {
        "type": "maintenance",
        "priority": "medium",
        "title": "Improve Test Coverage",
        "description": "Enhance test coverage for better quality assurance",
        "actionItems": [
          "Add missing unit tests",
          "Improve integration test coverage",
          "Add performance benchmarks"
        ],
        "estimatedEffort": "1-2 weeks"
      }
    ]
  },
  "historicalContext": {
    "previousReports": [],
    "trendAnalysis": {
      "historicalSuccessRate": [
        95,
        96,
        94,
        97
      ],
      "performanceTrend": "stable",
      "flakinessScore": 0.1,
      "regressionDetected": false,
      "qualityGate": "passed"
    },
    "regressionAnalysis": {
      "detected": false,
      "affectedTests": []
    },
    "improvementTracking": {
      "resolvedIssues": 0,
      "performanceGains": 0,
      "coverageIncrease": 0
    }
  }
}