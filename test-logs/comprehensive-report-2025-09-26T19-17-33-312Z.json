{
  "metadata": {
    "reportId": "report-1758914238515-hmv8lnu7x",
    "generatedAt": "2025-09-26T19:17:33.312Z",
    "version": "2.0.0",
    "reportType": "comprehensive",
    "generator": "EnhancedTestLogger"
  },
  "executiveSummary": {
    "overallStatus": "warning",
    "totalSuites": 0,
    "totalTests": 12,
    "successRate": 66.66666666666666,
    "criticalIssues": 0,
    "keyMetrics": {
      "averageDuration": 13929,
      "memoryPeak": 115216312,
      "flakyTests": 0
    },
    "qualityGate": "failed"
  },
  "testInventory": {
    "suites": [],
    "categories": {
      "unit": 12,
      "integration": 0,
      "e2e": 0,
      "system": 0,
      "regression": 0,
      "acceptance": 0,
      "performance": 0,
      "load": 0,
      "security": 0,
      "compatibility": 0,
      "accessibility": 0,
      "exploratory": 0
    },
    "priorities": {
      "critical": 0,
      "high": 0,
      "medium": 12,
      "low": 0
    },
    "environments": [
      "test"
    ]
  },
  "detailedResults": {
    "failures": [
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should handle 401 errors gracefully without flashing::1758914253283",
          "testName": "should handle 401 errors gracefully without flashing",
          "testDescription": "should handle 401 errors gracefully without flashing",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115089344,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202174464
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:78:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:78:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle 401 errors gracefully without flashing",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should refresh token when near expiration::1758914253293",
          "testName": "should refresh token when near expiration",
          "testDescription": "should refresh token when near expiration",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115133568,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mrefreshed\u001b[27m-token\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mexpiring\u001b[27m-token\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:172:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mrefreshed\u001b[27m-token\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mexpiring\u001b[27m-token\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:172:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should refresh token when near expiration",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should not show 401 errors as user-facing errors::1758914253299",
          "testName": "should not show 401 errors as user-facing errors",
          "testDescription": "should not show 401 errors as user-facing errors",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115159376,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:259:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:259:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should not show 401 errors as user-facing errors",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should show meaningful errors for non-401 failures::1758914253306",
          "testName": "should show meaningful errors for non-401 failures",
          "testDescription": "should show meaningful errors for non-401 failures",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115184128,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202186752
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Network error\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'ok') (after 4 attempts)\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:280:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Network error\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'ok') (after 4 attempts)\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:280:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should show meaningful errors for non-401 failures",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m"
        }
      }
    ],
    "criticalFailures": [],
    "flakyTests": [],
    "slowTests": [
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should use /api/csrf endpoint instead of /api/auth::1758914253283",
          "testName": "should use /api/csrf endpoint instead of /api/auth",
          "testDescription": "should use /api/csrf endpoint instead of /api/auth",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "passed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115075888,
            "heapTotal": 140873728,
            "external": 6249281,
            "rss": 202174464
          }
        },
        "retryCount": 0
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should handle 401 errors gracefully without flashing::1758914253283",
          "testName": "should handle 401 errors gracefully without flashing",
          "testDescription": "should handle 401 errors gracefully without flashing",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115089344,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202174464
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:78:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:78:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should handle 401 errors gracefully without flashing",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should implement retry logic with exponential backoff::1758914253293",
          "testName": "should implement retry logic with exponential backoff",
          "testDescription": "should implement retry logic with exponential backoff",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "passed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115125232,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should validate token expiration correctly::1758914253293",
          "testName": "should validate token expiration correctly",
          "testDescription": "should validate token expiration correctly",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "passed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115129400,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should refresh token when near expiration::1758914253293",
          "testName": "should refresh token when near expiration",
          "testDescription": "should refresh token when near expiration",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115133568,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mrefreshed\u001b[27m-token\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mexpiring\u001b[27m-token\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:172:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"\u001b[7mrefreshed\u001b[27m-token\"\u001b[39m\nReceived: \u001b[31m\"\u001b[7mexpiring\u001b[27m-token\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:172:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should refresh token when near expiration",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should provide correct headers for form submission::1758914253299",
          "testName": "should provide correct headers for form submission",
          "testDescription": "should provide correct headers for form submission",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "passed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115151032,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should handle form submission with CSRF protection::1758914253299",
          "testName": "should handle form submission with CSRF protection",
          "testDescription": "should handle form submission with CSRF protection",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "passed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115155208,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should not show 401 errors as user-facing errors::1758914253299",
          "testName": "should not show 401 errors as user-facing errors",
          "testDescription": "should not show 401 errors as user-facing errors",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115159376,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202182656
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:259:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mfalse\u001b[39m\nReceived: \u001b[31mtrue\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:259:42)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should not show 401 errors as user-facing errors",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should show meaningful errors for non-401 failures::1758914253306",
          "testName": "should show meaningful errors for non-401 failures",
          "testDescription": "should show meaningful errors for non-401 failures",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "failed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115184128,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202186752
          }
        },
        "retryCount": 0,
        "error": {
          "message": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Network error\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'ok') (after 4 attempts)\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:280:36)",
          "stack": "Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Network error\"\u001b[39m\nReceived string:    \u001b[31m\"Cannot read properties of undefined (reading 'ok') (after 4 attempts)\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts:280:36)",
          "type": "assertion",
          "severity": "medium",
          "category": "functional",
          "reproductionSteps": [
            "Run test: should show meaningful errors for non-401 failures",
            "In file: Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
            "Observe the failure"
          ],
          "expectedBehavior": "Test should pass without errors",
          "actualBehavior": "Test failed with: Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m"
        }
      },
      {
        "metadata": {
          "testId": "Csrf-token-fix-validation::should clear errors on successful retry::1758914253310",
          "testName": "should clear errors on successful retry",
          "testDescription": "should clear errors on successful retry",
          "filePath": "Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\__tests__\\csrf-token-fix-validation.test.ts",
          "relativePath": "src\\__tests__\\csrf-token-fix-validation.test.ts",
          "suite": "Csrf-token-fix-validation",
          "category": "unit",
          "tags": [],
          "priority": "medium"
        },
        "status": "passed",
        "performance": {
          "startTime": 1758914239331,
          "endTime": 1758914253260,
          "duration": 13929,
          "memoryUsage": {
            "heapUsed": 115206904,
            "heapTotal": 140873728,
            "external": 6249321,
            "rss": 202194944
          }
        },
        "retryCount": 0
      }
    ],
    "coverageGaps": [
      "src/utils/uncoveredModule.ts",
      "src/components/UntestedComponent.tsx"
    ]
  },
  "issueTracking": {
    "openIssues": [],
    "resolvedIssues": [],
    "newIssuesCreated": [],
    "escalatedIssues": []
  },
  "performanceAnalysis": {
    "executionMetrics": {
      "startTime": 1509.6407,
      "endTime": 16306.9404,
      "duration": 167148,
      "memoryUsage": {
        "heapUsed": 115153150.66666667,
        "heapTotal": 138183780.8,
        "external": 11515315.066666668,
        "rss": 172729726
      }
    },
    "resourceUsage": {
      "totalMemoryUsed": 1381837808,
      "averageTestDuration": 13929,
      "totalExecutionTime": 167148
    },
    "bottlenecks": [
      "should use /api/csrf endpoint instead of /api/auth (13929ms)",
      "should handle 401 errors gracefully without flashing (13929ms)",
      "should implement retry logic with exponential backoff (13929ms)",
      "should validate token expiration correctly (13929ms)",
      "should refresh token when near expiration (13929ms)",
      "should provide correct headers for form submission (13929ms)",
      "should handle form submission with CSRF protection (13929ms)",
      "should not show 401 errors as user-facing errors (13929ms)",
      "should show meaningful errors for non-401 failures (13929ms)",
      "should clear errors on successful retry (13929ms)"
    ],
    "optimizationOpportunities": [
      "Consider optimizing slow tests or running them in parallel"
    ]
  },
  "recommendations": {
    "immediate": [],
    "shortTerm": [
      {
        "type": "performance",
        "priority": "high",
        "title": "Optimize Slow Tests",
        "description": "10 tests are running slower than expected",
        "actionItems": [
          "Profile slow tests",
          "Optimize test setup/teardown",
          "Consider parallel execution"
        ],
        "estimatedEffort": "1-2 days",
        "relatedTests": [
          "should use /api/csrf endpoint instead of /api/auth",
          "should handle 401 errors gracefully without flashing",
          "should implement retry logic with exponential backoff",
          "should validate token expiration correctly",
          "should refresh token when near expiration",
          "should provide correct headers for form submission",
          "should handle form submission with CSRF protection",
          "should not show 401 errors as user-facing errors",
          "should show meaningful errors for non-401 failures",
          "should clear errors on successful retry"
        ]
      }
    ],
    "longTerm": [
      {
        "type": "maintenance",
        "priority": "medium",
        "title": "Improve Test Coverage",
        "description": "Enhance test coverage for better quality assurance",
        "actionItems": [
          "Add missing unit tests",
          "Improve integration test coverage",
          "Add performance benchmarks"
        ],
        "estimatedEffort": "1-2 weeks"
      }
    ]
  },
  "historicalContext": {
    "previousReports": [],
    "trendAnalysis": {
      "historicalSuccessRate": [
        95,
        96,
        94,
        97
      ],
      "performanceTrend": "stable",
      "flakinessScore": 0.1,
      "regressionDetected": false,
      "qualityGate": "passed"
    },
    "regressionAnalysis": {
      "detected": false,
      "affectedTests": []
    },
    "improvementTracking": {
      "resolvedIssues": 0,
      "performanceGains": 0,
      "coverageIncrease": 0
    }
  }
}