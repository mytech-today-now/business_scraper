{"timestamp":"2025-09-30T21:34:18.158Z","suite":"Use Search Streaming.connection-error","testCase":"should retry on immediate connection failure","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: >= \u001b[32m2\u001b[39m\nReceived:    \u001b[31m1\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBeGreaterThanOrEqual (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:160:56)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.167Z","suite":"Use Search Streaming.connection-error","testCase":"should fallback to batch search when enabled","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"completed\"\u001b[39m\nReceived: \u001b[31m\"error\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:182:48)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.173Z","suite":"Use Search Streaming.connection-error","testCase":"should handle connection failure after opening","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThan\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: > \u001b[32m0\u001b[39m\nReceived:   \u001b[31m0\u001b[39m\n    at Object.toBeGreaterThan (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:208:54)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at processTimers (node:internal/timers:520:9)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.178Z","suite":"Use Search Streaming.connection-error","testCase":"should perform health check before retrying","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"/api/health\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\n\nNumber of calls: \u001b[31m0\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:228:27)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.183Z","suite":"Use Search Streaming.connection-error","testCase":"should fallback when health check fails","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"completed\"\u001b[39m\nReceived: \u001b[31m\"error\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:251:48)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.186Z","suite":"Use Search Streaming.connection-error","testCase":"should open circuit breaker after multiple failures","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBeGreaterThanOrEqual\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: >= \u001b[32m5\u001b[39m\nReceived:    \u001b[31m0\u001b[39m\n    at Object.toBeGreaterThanOrEqual (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:281:54)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.190Z","suite":"Use Search Streaming.connection-error","testCase":"should handle offline scenarios","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"Network connection lost\"\u001b[39m\nReceived string:    \u001b[31m\"Unable to create streaming connection - pool exhausted\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:305:38)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.198Z","suite":"Use Search Streaming.connection-error","testCase":"should recover from temporary connection issues","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts:356:44)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.connection-error.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.206Z","suite":"Use Search Streaming","testCase":"should start streaming successfully","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"streaming\"\u001b[39m\nReceived: \u001b[31m\"completed\"\u001b[39m\n\nIgnored nodes: comments, script, style\n\u001b[36m<html>\u001b[39m\n  \u001b[36m<head />\u001b[39m\n  \u001b[36m<body>\u001b[39m\n    \u001b[36m<div />\u001b[39m\n  \u001b[36m</body>\u001b[39m\n\u001b[36m</html>\u001b[39m\n    at toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:112:46)\n    at runWithExpensiveErrorDiagnosticsDisabled (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\config.js:47:12)\n    at checkCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:124:77)\n    at checkRealTimersCallback (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\node_modules\\@testing-library\\dom\\dist\\wait-for.js:118:16)\n    at Timeout.task [as _onTimeout] (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\jsdom\\lib\\jsdom\\browser\\Window.js:520:19)\n    at listOnTimeout (node:internal/timers:588:17)\n    at processTimers (node:internal/timers:523:7)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"timeout","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.212Z","suite":"Use Search Streaming","testCase":"should handle streaming results","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"Test Restaurant\"\u001b[39m\nReceived: \u001b[31m\"Fallback Business\"\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:142:44)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.216Z","suite":"Use Search Streaming","testCase":"should handle progress updates","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m500\u001b[39m\nReceived: \u001b[31m1\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:167:48)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.219Z","suite":"Use Search Streaming","testCase":"should handle connection errors and retry","error":"TypeError: Cannot read properties of undefined (reading 'simulateError')\n    at simulateError (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:230:19)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:48:24\n    at act (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\react\\cjs\\react.development.js:2512:16)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:229:14)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"dependency","severity":"critical","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.226Z","suite":"Use Search Streaming","testCase":"should fallback to batch search after max retries","error":"TypeError: Cannot read properties of undefined (reading 'simulateError')\n    at simulateError (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:269:19)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:48:24\n    at act (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\react\\cjs\\react.development.js:2512:16)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:268:14)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"dependency","severity":"critical","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.231Z","suite":"Use Search Streaming","testCase":"should handle completion message","error":"TypeError: Cannot read properties of undefined (reading 'simulateMessage')\n    at simulateMessage (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:299:19)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:48:24\n    at act (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\react\\cjs\\react.development.js:2512:16)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:298:14)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"dependency","severity":"critical","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.237Z","suite":"Use Search Streaming","testCase":"should clear results","error":"TypeError: Cannot read properties of undefined (reading 'simulateMessage')\n    at simulateMessage (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:319:19)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:48:24\n    at act (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\react\\cjs\\react.development.js:2512:16)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:318:14)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"dependency","severity":"critical","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.240Z","suite":"Use Search Streaming","testCase":"should not add results when paused","error":"TypeError: Cannot read properties of undefined (reading 'simulateOpen')\n    at simulateOpen (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:350:19)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:48:24\n    at act (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\react\\cjs\\react.development.js:2512:16)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:349:14)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"dependency","severity":"critical","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.245Z","suite":"Use Search Streaming","testCase":"should handle error messages from stream","error":"TypeError: Cannot read properties of undefined (reading 'simulateMessage')\n    at simulateMessage (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:381:19)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:48:24\n    at act (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\react\\cjs\\react.development.js:2512:16)\n    at Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\node_modules\\@testing-library\\react\\dist\\act-compat.js:47:25\n    at Object.<anonymous> (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts:380:14)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\hooks\\__tests__\\useSearchStreaming.test.ts","category":"dependency","severity":"critical","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.265Z","suite":"Use Search Streaming Hook","testCase":"should handle EventSource connection errors","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mnot\u001b[2m.\u001b[22mtoBeNull\u001b[2m()\u001b[22m\n\nReceived: \u001b[31mnull\u001b[39m\n    at Object.toBeNull (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts:179:40)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.270Z","suite":"Use Search Streaming Hook","testCase":"should implement circuit breaker pattern","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoContain\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // indexOf\u001b[22m\n\nExpected substring: \u001b[32m\"circuit breaker\"\u001b[39m\nReceived string:    \u001b[31m\"Batch search failed: 500\"\u001b[39m\n    at Object.toContain (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts:204:36)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.277Z","suite":"Use Search Streaming Hook","testCase":"should perform health checks before retrying","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mjest.fn()\u001b[39m\u001b[2m).\u001b[22mtoHaveBeenCalledWith\u001b[2m(\u001b[22m\u001b[32m...expected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected: \u001b[32m\"/api/health\"\u001b[39m, \u001b[32mAny<Object>\u001b[39m\nReceived: \u001b[31m\"/api/search\"\u001b[39m, \u001b[2m{\"body\": \"{\\\"provider\\\":\\\"comprehensive\\\",\\\"query\\\":\\\"test query\\\",\\\"location\\\":\\\"12345\\\",\\\"maxResults\\\":1000}\", \"headers\": {\"Content-Type\": \"application/json\"}, \"method\": \"POST\"}\u001b[22m\n\nNumber of calls: \u001b[31m1\u001b[39m\n    at Object.toHaveBeenCalledWith (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts:215:25)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.284Z","suite":"Use Search Streaming Hook","testCase":"should fallback to batch search when streaming fails","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m\"fallback\"\u001b[39m\nReceived: \u001b[31m\"error\"\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts:240:46)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts","category":"assertion","severity":"medium","retryCount":0}}
{"timestamp":"2025-09-30T21:34:18.290Z","suite":"Use Search Streaming Hook","testCase":"should handle streaming completion","error":"Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32mtrue\u001b[39m\nReceived: \u001b[31mfalse\u001b[39m\n    at Object.toBe (Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts:283:42)","metadata":{"file":"Q:\\_kyle\\temp_documents\\GitHub\\business_scraper\\src\\tests\\regression\\useSearchStreamingHook.test.ts","category":"assertion","severity":"medium","retryCount":0}}
