# Test Environment Configuration Template
# Business Scraper App - Testing Configuration
#
# SECURITY NOTICE: This is a template file with placeholder values.
# Copy this file to test.env and replace all CHANGE_ME values.
# Generate secure secrets with: node scripts/generate-secrets.js --env test

# Application Configuration
NEXT_PUBLIC_APP_NAME=Business Scraper App (Test)
NEXT_PUBLIC_APP_VERSION=1.3.0-test
NODE_ENV=test
NEXT_PUBLIC_DEBUG=false
PORT=3001

# Database Configuration (Test)
# Using separate test database to avoid conflicts
DB_TYPE=postgresql
DB_HOST=localhost
DB_PORT=5432
DB_NAME=business_scraper_test
DB_USER=postgres
DB_PASSWORD=CHANGE_ME_TEST_PASSWORD
DB_POOL_MIN=1
DB_POOL_MAX=3
DB_POOL_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
DB_SSL=false

# Security Configuration (Test)
# Authentication disabled for faster testing
ENABLE_AUTH=false
SESSION_TIMEOUT=7200000
MAX_LOGIN_ATTEMPTS=100
LOCKOUT_DURATION=1000
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=10000
SCRAPING_RATE_LIMIT=1000

# Authentication (Test)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=CHANGE_ME_TEST_ADMIN_PASSWORD
# Test environment can use plain text for simplicity
ADMIN_PASSWORD_HASH=GENERATE_TEST_HASH
ADMIN_PASSWORD_SALT=GENERATE_TEST_SALT

# Security Keys (Generate unique values for test isolation)
ENCRYPTION_KEY=GENERATE_32_BYTE_HEX_KEY
JWT_SECRET=GENERATE_JWT_SECRET
SESSION_SECRET=GENERATE_SESSION_SECRET

# Scraping Configuration (Test)
# Faster settings for testing
SCRAPING_TIMEOUT=5000
SCRAPING_MAX_RETRIES=1
SCRAPING_DELAY_MS=100
SEARCH_ENGINE_TIMEOUT=5000
MAX_SEARCH_RESULTS=10
BROWSER_POOL_SIZE=1
BROWSER_TIMEOUT=30000

# API Keys (Test - Use test/mock keys)
AZURE_AI_FOUNDRY_API_KEY=test_key
AZURE_AI_FOUNDRY_ENDPOINT=https://test.cognitiveservices.azure.com/
AZURE_AI_FOUNDRY_REGION=eastus
GOOGLE_MAPS_API_KEY=test_key
OPENCAGE_API_KEY=test_key
BING_SEARCH_API_KEY=test_key
YANDEX_SEARCH_API_KEY=test_key

# Cache Configuration (Test)
CACHE_TYPE=memory
CACHE_MAX_SIZE=1000
CACHE_TTL=300000

# Logging Configuration (Test)
LOG_LEVEL=error
LOG_FORMAT=text
LOG_ENABLE_CONSOLE=false
LOG_ENABLE_FILE=false
LOG_FILE_PATH=./logs/test.log
LOG_MAX_FILE_SIZE=1048576
LOG_MAX_FILES=1

# Feature Flags (Test)
# Enable all features for comprehensive testing
FEATURE_ENABLE_CACHING=true
FEATURE_ENABLE_RATE_LIMITING=false
FEATURE_ENABLE_METRICS=false
FEATURE_ENABLE_EXPERIMENTAL=true
FEATURE_ENABLE_BBB_INTEGRATION=true
FEATURE_ENABLE_CHAMBER_OF_COMMERCE=true
FEATURE_ENABLE_YELP_SCRAPING=true
FEATURE_ENABLE_DOMAIN_BLACKLIST=true
FEATURE_ENABLE_PER_INDUSTRY_BLACKLIST=true

# Test-specific settings
NEXT_TELEMETRY_DISABLED=1
DISABLE_ESLINT_PLUGIN=true
ENABLE_SOURCE_MAPS=false
ENABLE_HOT_RELOAD=false

# PWA/Service Worker Configuration (Test)
NEXT_PUBLIC_ENABLE_SW=false
NEXT_PUBLIC_CACHE_DURATION=0

# Testing Configuration
TEST_COVERAGE_THRESHOLD=80
TEST_TIMEOUT=30000
E2E_TEST_TIMEOUT=60000
ENABLE_TEST_MOCKS=false

# Data Export Configuration (Test)
EXPORT_ENABLE_CSV=true
EXPORT_ENABLE_XLSX=true
EXPORT_ENABLE_PDF=true
EXPORT_ENABLE_JSON=true
EXPORT_MAX_RECORDS=100

# Monitoring Configuration (Test)
MONITORING_ENABLED=false
METRICS_PORT=9091
HEALTH_CHECK_ENDPOINT=/api/health
GRAFANA_PASSWORD=CHANGE_ME_TEST_GRAFANA_PASSWORD

# Stripe Configuration (Test)
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Production keys (for deployment)
STRIPE_PUBLISHABLE_KEY_LIVE=pk_live_...
STRIPE_SECRET_KEY_LIVE=sk_live_...
STRIPE_WEBHOOK_SECRET_LIVE=whsec_...

# Payment Configuration (Test)
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}
PAYMENT_SUCCESS_URL=http://localhost:3001/payment/success
PAYMENT_CANCEL_URL=http://localhost:3001/payment/cancel
