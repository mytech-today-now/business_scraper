# Production Environment Configuration Template
# Business Scraper Application - Production Deployment
#
# SECURITY NOTICE: This is a template file with placeholder values.
# Copy this file to production.env and replace all CHANGE_ME/GENERATE_ values.
# Generate secure secrets with: node scripts/generate-secrets.js --env production

# Application Configuration
NEXT_PUBLIC_APP_NAME=Business Scraper Pro
NEXT_PUBLIC_APP_VERSION=1.0.0
NODE_ENV=production
NEXT_PUBLIC_DEBUG=false
PORT=3000
HOSTNAME=0.0.0.0

# Database Configuration (Production)
DATABASE_URL=postgresql://business_scraper_user:CHANGE_ME_SECURE_DB_PASSWORD@localhost:5432/business_scraper_prod
DB_HOST=localhost
DB_PORT=5432
DB_NAME=business_scraper_prod
DB_USER=business_scraper_user
DB_PASSWORD=CHANGE_ME_SECURE_DB_PASSWORD
DB_POOL_MIN=5
DB_POOL_MAX=20
DB_POOL_IDLE_TIMEOUT=30000
DB_CONNECTION_TIMEOUT=5000
DB_SSL=true

# Redis Configuration (Production)
REDIS_URL=redis://localhost:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_ME_SECURE_REDIS_PASSWORD
REDIS_DB=0
REDIS_KEY_PREFIX=business_scraper:prod:

# Security Configuration (Production)
ENABLE_AUTH=true
SESSION_TIMEOUT=3600000
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION=900000
RATE_LIMIT_WINDOW=60000
RATE_LIMIT_MAX=100
SCRAPING_RATE_LIMIT=10

# Security Keys (CRITICAL: Generate unique values for production)
ENCRYPTION_KEY=GENERATE_32_BYTE_HEX_KEY
JWT_SECRET=GENERATE_JWT_SECRET
SESSION_SECRET=GENERATE_SESSION_SECRET

# Authentication (Production)
ADMIN_USERNAME=admin
# Use hashed password for production (generate with scripts/generate-secrets.js):
ADMIN_PASSWORD_HASH=GENERATE_SECURE_HASH
ADMIN_PASSWORD_SALT=GENERATE_SECURE_SALT

# Scraping Configuration (Production) - Performance Optimized
SCRAPING_TIMEOUT=45000
SCRAPING_MAX_RETRIES=3
SCRAPING_DELAY_MS=500
SEARCH_ENGINE_TIMEOUT=10000
MAX_SEARCH_RESULTS=50
BROWSER_POOL_SIZE=6
BROWSER_TIMEOUT=180000

# API Keys (Production - Replace with your actual API keys)
AZURE_AI_FOUNDRY_API_KEY=YOUR_AZURE_AI_FOUNDRY_KEY
AZURE_AI_FOUNDRY_ENDPOINT=https://your-endpoint.cognitiveservices.azure.com/
AZURE_AI_FOUNDRY_REGION=eastus
GOOGLE_MAPS_API_KEY=YOUR_GOOGLE_MAPS_KEY
OPENCAGE_API_KEY=YOUR_OPENCAGE_KEY
GOOGLE_CUSTOM_SEARCH_API_KEY=YOUR_GOOGLE_CUSTOM_SEARCH_KEY
GOOGLE_CUSTOM_SEARCH_ENGINE_ID=YOUR_SEARCH_ENGINE_ID

# Cache Configuration (Production) - Multi-Level Caching
CACHE_TYPE=redis
CACHE_MAX_SIZE=5000
CACHE_TTL=1800000
REDIS_MAX_MEMORY=256mb
REDIS_EVICTION_POLICY=allkeys-lru

# Advanced Cache Settings
CACHE_L1_MAX_SIZE=2000
CACHE_L1_TTL=1800000
CACHE_L2_TTL=7200000
CACHE_L3_TTL=86400000
ENABLE_CACHE_WARMING=true

# Logging Configuration (Production)
LOG_LEVEL=info
LOG_FORMAT=json
LOG_ENABLE_CONSOLE=true
LOG_ENABLE_FILE=true
LOG_FILE_PATH=./logs/app.log
LOG_MAX_FILE_SIZE=10485760
LOG_MAX_FILES=10

# Feature Flags (Production)
FEATURE_ENABLE_CACHING=true
FEATURE_ENABLE_RATE_LIMITING=true
FEATURE_ENABLE_METRICS=true
FEATURE_ENABLE_EXPERIMENTAL=false

# Monitoring Configuration (Production)
MONITORING_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_ENDPOINT=/api/health
GRAFANA_PASSWORD=CHANGE_ME_SECURE_GRAFANA_PASSWORD

# Production Optimizations
NEXT_TELEMETRY_DISABLED=1
DISABLE_ESLINT=false
ANALYZE=false

# Debug Mode Configuration (Production)
# Disabled by default in production for security
DEBUG_MODE=false
DEBUG_PREVENT_AUTO_RELOAD=false
DEBUG_ENHANCED_ERROR_LOGGING=false
DEBUG_PERSIST_ERRORS=false
DEBUG_SHOW_STACK_TRACES=false

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_DIR=./uploads
TEMP_DIR=./temp
QUARANTINE_DIR=./quarantine
ENABLE_FILE_QUARANTINE=true
ENABLE_MALWARE_SCANNING=true
ENABLE_MAGIC_NUMBER_VALIDATION=true
FILE_SCAN_TIMEOUT=30000
MAX_UPLOAD_FILES=10

# Export Configuration
EXPORT_MAX_RECORDS=10000
EXPORT_TIMEOUT=300000

# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=YOUR_EMAIL@gmail.com
SMTP_PASS=YOUR_APP_PASSWORD

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=./backups

# AWS Configuration (Optional - for S3 backups)
AWS_ACCESS_KEY_ID=YOUR_AWS_ACCESS_KEY
AWS_SECRET_ACCESS_KEY=YOUR_AWS_SECRET_KEY
BACKUP_S3_BUCKET=your-backup-bucket

# Stripe Configuration
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_SECRET_KEY=sk_test_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Production keys (for deployment)
STRIPE_PUBLISHABLE_KEY_LIVE=pk_live_...
STRIPE_SECRET_KEY_LIVE=sk_live_...
STRIPE_WEBHOOK_SECRET_LIVE=whsec_...

# Payment Configuration
NEXT_PUBLIC_STRIPE_PUBLISHABLE_KEY=${STRIPE_PUBLISHABLE_KEY}
PAYMENT_SUCCESS_URL=https://your-domain.com/payment/success
PAYMENT_CANCEL_URL=https://your-domain.com/payment/cancel
