<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Domain Blacklist Import/Export Format - Business Scraper Documentation</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    />
  </head>
  <body>
    <div class="content-wrapper">
      <div class="back-to-docs">
        <a href="readme.html" class="btn btn-outline-primary"> ← Back to Documentation Hub </a>
      </div>

      <div class="nav-breadcrumb">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item">
              <a href="readme.html">Documentation</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              Domain Blacklist Import/Export Format
            </li>
          </ol>
        </nav>
      </div>

      <main class="documentation-content">
        <h1>Domain Blacklist Import/Export Format</h1>
        <h2>Overview</h2>
        <p>
          The Business Scraper application supports both
          <strong>global domain blacklists</strong> and
          <strong>per-industry domain blacklists</strong>. This documentation covers the legacy
          global blacklist format. For the new per-industry blacklist functionality, see
          <a href="./PER_INDUSTRY_BLACKLIST.md">PER_INDUSTRY_BLACKLIST.md</a>.
        </p>
        <h3>Legacy Global Blacklist</h3>
        <p>The global domain blacklist allows you to:</p>
        <ul>
          <li><strong>Backup</strong> your global domain blacklist configurations</li>
          <li><strong>Share</strong> blacklist setups between different installations</li>
          <li><strong>Migrate</strong> configurations when upgrading or moving systems</li>
          <li>
            <strong>Collaborate</strong> with team members using standardized domain filtering
          </li>
        </ul>
        <blockquote>
          <p>
            <strong>Note</strong>: The new per-industry blacklist system provides more granular
            control. Consider migrating to per-industry blacklists for better filtering precision.
          </p>
        </blockquote>
        <h2>JSON File Format</h2>
        <h3>Structure</h3>
        <p>
          The domain blacklist export uses the same header format as industry exports for
          consistency:
        </p>
        <pre><code class="language-json">{
  &quot;name&quot;: &quot;Business Scraper&quot;,
  &quot;url&quot;: &quot;https://github.com/mytech-today-now/business_scraper&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;exportDate&quot;: &quot;2025-07-26T15:30:45.123Z&quot;,
  &quot;domainBlacklist&quot;: [
    &quot;statefarm.com&quot;,
    &quot;example.com&quot;,
    &quot;unwanted-site.net&quot;,
    &quot;spam-domain.org&quot;
  ]
}
</code></pre>
        <h3>Field Descriptions</h3>
        <table>
          <thead>
            <tr>
              <th>Field</th>
              <th>Type</th>
              <th>Required</th>
              <th>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><code>name</code></td>
              <td>string</td>
              <td><strong>Yes</strong></td>
              <td>Application name - must be &quot;Business Scraper&quot;</td>
            </tr>
            <tr>
              <td><code>url</code></td>
              <td>string</td>
              <td><strong>Yes</strong></td>
              <td>GitHub repository URL</td>
            </tr>
            <tr>
              <td><code>version</code></td>
              <td>string</td>
              <td><strong>Yes</strong></td>
              <td>Application version number</td>
            </tr>
            <tr>
              <td><code>exportDate</code></td>
              <td>string</td>
              <td><strong>Yes</strong></td>
              <td>ISO timestamp of when the file was exported</td>
            </tr>
            <tr>
              <td><code>domainBlacklist</code></td>
              <td>array</td>
              <td><strong>Yes</strong></td>
              <td>Array of domain strings to exclude from search results</td>
            </tr>
          </tbody>
        </table>
        <h2>Usage Instructions</h2>
        <h3>Exporting Domain Blacklist</h3>
        <ol>
          <li>Navigate to <strong>Settings</strong> → <strong>API Configuration</strong></li>
          <li>Scroll to the <strong>Domain Blacklist</strong> section</li>
          <li>Click the <strong>Export</strong> button</li>
          <li>Save the generated JSON file</li>
        </ol>
        <h3>Importing Domain Blacklist</h3>
        <ol>
          <li>Navigate to <strong>Settings</strong> → <strong>API Configuration</strong></li>
          <li>Scroll to the <strong>Domain Blacklist</strong> section</li>
          <li>Click the <strong>Import</strong> button</li>
          <li>Select your JSON file</li>
          <li>The domains will be loaded into the blacklist</li>
        </ol>
        <h2>Backward Compatibility</h2>
        <p>The import function supports both formats:</p>
        <h3>New Format (Recommended)</h3>
        <pre><code class="language-json">{
  &quot;name&quot;: &quot;Business Scraper&quot;,
  &quot;url&quot;: &quot;https://github.com/mytech-today-now/business_scraper&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;exportDate&quot;: &quot;2025-07-26T15:30:45.123Z&quot;,
  &quot;domainBlacklist&quot;: [
    &quot;statefarm.com&quot;,
    &quot;example.com&quot;
  ]
}
</code></pre>
        <h3>Legacy Format (Still Supported)</h3>
        <pre><code class="language-json">[
  &quot;statefarm.com&quot;,
  &quot;example.com&quot;
]
</code></pre>
        <h2>Domain Format Rules</h2>
        <ul>
          <li>
            <p><strong>Domain only</strong>: Use just the domain name without protocol or www</p>
            <ul>
              <li>✅ Correct: <code>&quot;statefarm.com&quot;</code></li>
              <li>❌ Incorrect: <code>&quot;https://www.statefarm.com&quot;</code></li>
            </ul>
          </li>
          <li>
            <p>
              <strong>Case insensitive</strong>: Domains are automatically converted to lowercase
            </p>
            <ul>
              <li>
                <code>&quot;STATEFARM.COM&quot;</code> becomes
                <code>&quot;statefarm.com&quot;</code>
              </li>
            </ul>
          </li>
          <li>
            <p><strong>Exact matching</strong>: Exact domain matches are filtered</p>
            <ul>
              <li>
                <code>&quot;statefarm.com&quot;</code> will block <code>statefarm.com</code> but not
                <code>agent.statefarm.com</code>
              </li>
            </ul>
          </li>
          <li>
            <p><strong>Wildcard support</strong>: Use <code>*</code> for pattern matching</p>
            <ul>
              <li>
                <code>&quot;*.statefarm.com&quot;</code> blocks <code>statefarm.com</code>,
                <code>agent.statefarm.com</code>, <code>www.statefarm.com</code>
              </li>
              <li>
                <code>&quot;statefarm.*&quot;</code> blocks <code>statefarm.com</code>,
                <code>statefarm.net</code>, <code>statefarm.org</code>
              </li>
              <li>
                <code>&quot;*statefarm*&quot;</code> blocks any domain containing
                &quot;statefarm&quot;
              </li>
            </ul>
          </li>
        </ul>
        <h2>Example Files</h2>
        <h3>1. Insurance Companies Blacklist (with Wildcards)</h3>
        <pre><code class="language-json">{
  &quot;name&quot;: &quot;Business Scraper&quot;,
  &quot;url&quot;: &quot;https://github.com/mytech-today-now/business_scraper&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;exportDate&quot;: &quot;2025-07-26T15:30:45.123Z&quot;,
  &quot;domainBlacklist&quot;: [
    &quot;*.statefarm.com&quot;,
    &quot;*.geico.com&quot;,
    &quot;*.progressive.com&quot;,
    &quot;*.allstate.com&quot;,
    &quot;*.farmers.com&quot;
  ]
}
</code></pre>
        <h3>2. Social Media and Directories</h3>
        <pre><code class="language-json">{
  &quot;name&quot;: &quot;Business Scraper&quot;,
  &quot;url&quot;: &quot;https://github.com/mytech-today-now/business_scraper&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;exportDate&quot;: &quot;2025-07-26T15:30:45.123Z&quot;,
  &quot;domainBlacklist&quot;: [
    &quot;facebook.com&quot;,
    &quot;linkedin.com&quot;,
    &quot;twitter.com&quot;,
    &quot;instagram.com&quot;,
    &quot;yelp.com&quot;,
    &quot;yellowpages.com&quot;,
    &quot;whitepages.com&quot;
  ]
}
</code></pre>
        <h3>3. Generic Spam Domains</h3>
        <pre><code class="language-json">{
  &quot;name&quot;: &quot;Business Scraper&quot;,
  &quot;url&quot;: &quot;https://github.com/mytech-today-now/business_scraper&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;exportDate&quot;: &quot;2025-07-26T15:30:45.123Z&quot;,
  &quot;domainBlacklist&quot;: [
    &quot;example.com&quot;,
    &quot;test.com&quot;,
    &quot;placeholder.com&quot;,
    &quot;sample.org&quot;,
    &quot;demo.net&quot;
  ]
}
</code></pre>
        <h3>4. Wildcard Pattern Examples</h3>
        <pre><code class="language-json">{
  &quot;name&quot;: &quot;Business Scraper&quot;,
  &quot;url&quot;: &quot;https://github.com/mytech-today-now/business_scraper&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;exportDate&quot;: &quot;2025-07-26T15:30:45.123Z&quot;,
  &quot;domainBlacklist&quot;: [
    &quot;*.statefarm.com&quot;,
    &quot;statefarm.*&quot;,
    &quot;*insurance*&quot;,
    &quot;*.yellowpages.*&quot;,
    &quot;*directory*&quot;
  ]
}
</code></pre>
        <p><strong>What each pattern blocks:</strong></p>
        <ul>
          <li>
            <code>&quot;*.statefarm.com&quot;</code> → <code>statefarm.com</code>,
            <code>agent.statefarm.com</code>, <code>www.statefarm.com</code>
          </li>
          <li>
            <code>&quot;statefarm.*&quot;</code> → <code>statefarm.com</code>,
            <code>statefarm.net</code>, <code>statefarm.org</code>
          </li>
          <li>
            <code>&quot;*insurance*&quot;</code> → <code>myinsurance.com</code>,
            <code>insurance-quotes.net</code>, <code>bestinsurance.org</code>
          </li>
          <li>
            <code>&quot;*.yellowpages.*&quot;</code> → <code>www.yellowpages.com</code>,
            <code>mobile.yellowpages.net</code>
          </li>
          <li>
            <code>&quot;*directory*&quot;</code> → <code>businessdirectory.com</code>,
            <code>local-directory.net</code>
          </li>
        </ul>
        <h2>Wildcard Pattern Types</h2>
        <h3>1. Subdomain Wildcards (<code>*.domain.com</code>)</h3>
        <p>Blocks the main domain and all its subdomains:</p>
        <pre><code class="language-json">&quot;*.statefarm.com&quot;
</code></pre>
        <p>
          <strong>Blocks:</strong> <code>statefarm.com</code>, <code>agent.statefarm.com</code>,
          <code>www.statefarm.com</code>, <code>mobile.statefarm.com</code><br /><strong
            >Doesn&#39;t block:</strong
          >
          <code>statefarminsurance.com</code>, <code>mystatefarm.net</code>
        </p>
        <h3>2. TLD Wildcards (<code>domain.*</code>)</h3>
        <p>Blocks a domain across all top-level domains:</p>
        <pre><code class="language-json">&quot;statefarm.*&quot;
</code></pre>
        <p>
          <strong>Blocks:</strong> <code>statefarm.com</code>, <code>statefarm.net</code>,
          <code>statefarm.org</code>, <code>statefarm.co.uk</code><br /><strong
            >Doesn&#39;t block:</strong
          >
          <code>agent.statefarm.com</code>, <code>statefarminsurance.com</code>
        </p>
        <h3>3. Substring Wildcards (<code>*keyword*</code>)</h3>
        <p>Blocks any domain containing the keyword:</p>
        <pre><code class="language-json">&quot;*insurance*&quot;
</code></pre>
        <p>
          <strong>Blocks:</strong> <code>insurance.com</code>, <code>myinsurance.net</code>,
          <code>best-insurance.org</code>, <code>insurancequotes.com</code><br /><strong
            >Doesn&#39;t block:</strong
          >
          <code>insure.com</code>, <code>coverage.net</code>
        </p>
        <h3>4. Complex Patterns</h3>
        <p>Multiple wildcards for advanced filtering:</p>
        <pre><code class="language-json">&quot;*.insurance.*&quot;
</code></pre>
        <p>
          <strong>Blocks:</strong> <code>www.insurance.com</code>,
          <code>mobile.insurance.net</code>, <code>app.insurance.org</code>
        </p>
        <h2>Integration with Search Providers</h2>
        <p>The global domain blacklist is applied to all search providers:</p>
        <ul>
          <li><strong>Google Custom Search</strong>: Filtered from API results</li>
          <li><strong>Azure AI Foundry</strong>: Filtered from Bing Custom Search results</li>
          <li><strong>DuckDuckGo SERP</strong>: Filtered from scraped results</li>
          <li><strong>BBB Discovery</strong>: Filtered from extracted business websites</li>
        </ul>
        <blockquote>
          <p>
            <strong>Enhanced Filtering</strong>: When using per-industry blacklists, both global and
            industry-specific patterns are combined for comprehensive filtering.
          </p>
        </blockquote>
        <h2>File Naming Convention</h2>
        <p>Exported files follow this naming pattern:</p>
        <pre><code>domain-blacklist-YYYY-MM-DD.json
</code></pre>
        <p>Example: <code>domain-blacklist-2025-07-26.json</code></p>
        <h2>Validation</h2>
        <p>The application validates imported files to ensure:</p>
        <ol>
          <li>Valid JSON format</li>
          <li>Proper structure (either new format with headers or legacy array)</li>
          <li>Domain strings are non-empty after trimming</li>
          <li>Automatic conversion to lowercase for consistency</li>
        </ol>
        <h2>Error Handling</h2>
        <p>Common import errors and solutions:</p>
        <table>
          <thead>
            <tr>
              <th>Error</th>
              <th>Cause</th>
              <th>Solution</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>&quot;Failed to parse blacklist file&quot;</td>
              <td>Invalid JSON</td>
              <td>Check file format and syntax</td>
            </tr>
            <tr>
              <td>&quot;Expected array of domains&quot;</td>
              <td>Wrong data type</td>
              <td>Ensure domainBlacklist is an array</td>
            </tr>
            <tr>
              <td>&quot;Invalid blacklist format&quot;</td>
              <td>Missing required fields</td>
              <td>Use proper format with headers</td>
            </tr>
          </tbody>
        </table>
        <h2>Best Practices</h2>
        <ol>
          <li><strong>Regular Updates</strong>: Export your blacklist regularly as backup</li>
          <li>
            <strong>Team Sharing</strong>: Share blacklist files with team members for consistency
          </li>
          <li>
            <strong>Version Control</strong>: Keep blacklist files in version control for tracking
            changes
          </li>
          <li>
            <strong>Documentation</strong>: Comment your blacklist choices in separate documentation
          </li>
          <li><strong>Testing</strong>: Test blacklist effectiveness with sample searches</li>
        </ol>
        <h2>Migration from Legacy Format</h2>
        <p>To convert legacy array format to new format:</p>
        <ol>
          <li>Export your current blacklist (will use new format automatically)</li>
          <li>The exported file will include proper headers</li>
          <li>Use the new file for future imports and sharing</li>
        </ol>
        <p>
          This ensures consistency with other Business Scraper export formats and better metadata
          tracking.
        </p>
      </main>

      <footer class="text-center mt-5 pt-4 border-top">
        <p class="text-muted">
          <strong>Business Scraper Application v3.0.0</strong> - Enterprise Multi-User Collaboration
          Platform
        </p>
        <p class="text-muted">
          <a href="readme.html">Documentation Hub</a> |
          <a href="https://github.com/mytech-today-now/business_scraper">GitHub Repository</a>
        </p>
        <p class="text-muted small">Last updated: 8/24/2025</p>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  </body>
</html>
