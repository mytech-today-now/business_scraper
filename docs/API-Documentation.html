<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Business Scraper API Documentation - Business Scraper Documentation</title>
    <link rel="stylesheet" href="style.css" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css"
    />
  </head>
  <body>
    <div class="content-wrapper">
      <div class="back-to-docs">
        <a href="readme.html" class="btn btn-outline-primary"> ‚Üê Back to Documentation Hub </a>
      </div>

      <div class="nav-breadcrumb">
        <nav aria-label="breadcrumb">
          <ol class="breadcrumb mb-0">
            <li class="breadcrumb-item">
              <a href="readme.html">Documentation</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
              Business Scraper API Documentation
            </li>
          </ol>
        </nav>
      </div>

      <main class="documentation-content">
        <h1>Business Scraper API Documentation</h1>
        <h2>Overview</h2>
        <p>
          The Business Scraper API v1 provides comprehensive RESTful endpoints for business data
          export, template management, scheduling, and analytics. The API supports OAuth 2.0
          authentication, webhook notifications, and enterprise-grade rate limiting.
        </p>
        <h2>Base URL</h2>
        <pre><code>https://your-domain.com/api/v1
</code></pre>
        <h2>Authentication</h2>
        <h3>OAuth 2.0 (Recommended)</h3>
        <pre><code class="language-bash"># Step 1: Get authorization code
GET /api/v1/oauth/authorize?client_id=YOUR_CLIENT_ID&amp;redirect_uri=YOUR_REDIRECT_URI&amp;response_type=code&amp;scope=read:businesses write:exports

# Step 2: Exchange code for token
POST /api/v1/oauth/token
Content-Type: application/x-www-form-urlencoded

grant_type=authorization_code&amp;client_id=YOUR_CLIENT_ID&amp;client_secret=YOUR_CLIENT_SECRET&amp;code=AUTHORIZATION_CODE&amp;redirect_uri=YOUR_REDIRECT_URI
</code></pre>
        <h3>API Key</h3>
        <pre><code class="language-bash">curl -H &quot;X-API-Key: YOUR_API_KEY&quot; https://your-domain.com/api/v1/exports
</code></pre>
        <h2>Rate Limits</h2>
        <ul>
          <li><strong>Per Client</strong>: 100 requests/minute, 1,000 requests/hour</li>
          <li><strong>Global</strong>: 1,000 requests/minute, 10,000 requests/hour</li>
          <li>
            <strong>Headers</strong>: <code>X-RateLimit-Remaining</code>,
            <code>X-RateLimit-Reset</code>
          </li>
        </ul>
        <h2>Endpoints</h2>
        <h3>Export Templates</h3>
        <h4>List Templates</h4>
        <pre><code class="language-bash">GET /api/v1/templates
</code></pre>
        <p><strong>Query Parameters:</strong></p>
        <ul>
          <li>
            <code>platform</code> (optional): Filter by platform (salesforce, hubspot, pipedrive,
            mailchimp, constant-contact)
          </li>
          <li><code>category</code> (optional): Filter by category (crm, email-marketing)</li>
          <li><code>search</code> (optional): Search templates by name or description</li>
          <li><code>details</code> (optional): Include detailed field mappings (true/false)</li>
        </ul>
        <p><strong>Response:</strong></p>
        <pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;data&quot;: {
    &quot;templates&quot;: [
      {
        &quot;id&quot;: &quot;salesforce-leads&quot;,
        &quot;name&quot;: &quot;Salesforce Leads&quot;,
        &quot;platform&quot;: &quot;salesforce&quot;,
        &quot;description&quot;: &quot;Export business data as Salesforce Lead records&quot;,
        &quot;version&quot;: &quot;1.0.0&quot;,
        &quot;category&quot;: &quot;crm&quot;,
        &quot;tags&quot;: [&quot;crm&quot;, &quot;salesforce&quot;, &quot;leads&quot;],
        &quot;createdAt&quot;: &quot;2025-01-24T00:00:00.000Z&quot;
      }
    ],
    &quot;count&quot;: 5,
    &quot;statistics&quot;: {
      &quot;availableTemplates&quot;: 5,
      &quot;templatesByPlatform&quot;: {
        &quot;salesforce&quot;: 1,
        &quot;hubspot&quot;: 1,
        &quot;pipedrive&quot;: 1,
        &quot;mailchimp&quot;: 1,
        &quot;constant-contact&quot;: 1
      }
    }
  }
}
</code></pre>
        <h4>Get Template Details</h4>
        <pre><code class="language-bash">GET /api/v1/templates/{templateId}
</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;data&quot;: {
    &quot;template&quot;: {
      &quot;id&quot;: &quot;salesforce-leads&quot;,
      &quot;name&quot;: &quot;Salesforce Leads&quot;,
      &quot;platform&quot;: &quot;salesforce&quot;,
      &quot;fieldMappings&quot;: [
        {
          &quot;type&quot;: &quot;direct&quot;,
          &quot;sourceFields&quot;: [&quot;businessName&quot;],
          &quot;targetField&quot;: &quot;Company&quot;,
          &quot;validation&quot;: [
            {
              &quot;type&quot;: &quot;required&quot;,
              &quot;message&quot;: &quot;Company name is required&quot;
            }
          ]
        }
      ],
      &quot;requiredFields&quot;: [&quot;Company&quot;],
      &quot;optionalFields&quot;: [&quot;Phone&quot;, &quot;Email&quot;, &quot;Website&quot;]
    },
    &quot;validation&quot;: {
      &quot;isValid&quot;: true,
      &quot;errors&quot;: [],
      &quot;warnings&quot;: []
    }
  }
}
</code></pre>
        <h3>Exports</h3>
        <h4>Create Export</h4>
        <pre><code class="language-bash">POST /api/v1/exports
Content-Type: application/json

{
  &quot;templateId&quot;: &quot;salesforce-leads&quot;,
  &quot;businesses&quot;: [
    {
      &quot;businessName&quot;: &quot;Acme Corp&quot;,
      &quot;email&quot;: [&quot;contact@acme.com&quot;],
      &quot;phone&quot;: [&quot;555-0123&quot;],
      &quot;website&quot;: &quot;https://acme.com&quot;,
      &quot;address&quot;: {
        &quot;street&quot;: &quot;123 Main St&quot;,
        &quot;city&quot;: &quot;Anytown&quot;,
        &quot;state&quot;: &quot;CA&quot;,
        &quot;zipCode&quot;: &quot;12345&quot;
      },
      &quot;industry&quot;: &quot;Technology&quot;
    }
  ],
  &quot;options&quot;: {
    &quot;format&quot;: &quot;csv&quot;,
    &quot;validateData&quot;: true,
    &quot;includeData&quot;: true
  }
}
</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;data&quot;: {
    &quot;export&quot;: {
      &quot;id&quot;: &quot;export_1706140800000&quot;,
      &quot;templateId&quot;: &quot;salesforce-leads&quot;,
      &quot;status&quot;: &quot;completed&quot;,
      &quot;recordsProcessed&quot;: 1,
      &quot;recordsExported&quot;: 1,
      &quot;recordsSkipped&quot;: 0,
      &quot;errors&quot;: [],
      &quot;warnings&quot;: []
    },
    &quot;exportData&quot;: [
      {
        &quot;Company&quot;: &quot;Acme Corp&quot;,
        &quot;Phone&quot;: &quot;(555) 012-3456&quot;,
        &quot;Email&quot;: &quot;contact@acme.com&quot;,
        &quot;Website&quot;: &quot;https://acme.com&quot;,
        &quot;Street&quot;: &quot;123 Main St&quot;,
        &quot;City&quot;: &quot;Anytown&quot;,
        &quot;State&quot;: &quot;CA&quot;,
        &quot;PostalCode&quot;: &quot;12345&quot;,
        &quot;Industry&quot;: &quot;Technology&quot;,
        &quot;LeadSource&quot;: &quot;Web Scraping&quot;,
        &quot;Rating&quot;: &quot;Warm&quot;
      }
    ],
    &quot;download&quot;: {
      &quot;filename&quot;: &quot;salesforce-export-2025-01-24.csv&quot;,
      &quot;mimeType&quot;: &quot;text/csv&quot;,
      &quot;data&quot;: &quot;base64-encoded-content&quot;,
      &quot;size&quot;: 1024
    }
  }
}
</code></pre>
        <h4>Export Preview</h4>
        <pre><code class="language-bash">POST /api/v1/exports/preview
Content-Type: application/json

{
  &quot;templateId&quot;: &quot;salesforce-leads&quot;,
  &quot;businesses&quot;: [...],
  &quot;sampleSize&quot;: 3
}
</code></pre>
        <h4>Multi-Platform Export</h4>
        <pre><code class="language-bash">POST /api/v1/exports/multi-platform
Content-Type: application/json

{
  &quot;templateIds&quot;: [&quot;salesforce-leads&quot;, &quot;hubspot-companies&quot;, &quot;mailchimp-contacts&quot;],
  &quot;businesses&quot;: [...],
  &quot;options&quot;: {
    &quot;continueOnError&quot;: true
  }
}
</code></pre>
        <h3>Schedules</h3>
        <h4>Create Schedule</h4>
        <pre><code class="language-bash">POST /api/v1/schedules
Content-Type: application/json

{
  &quot;name&quot;: &quot;Daily CRM Export&quot;,
  &quot;description&quot;: &quot;Export new leads to Salesforce daily&quot;,
  &quot;templateId&quot;: &quot;salesforce-leads&quot;,
  &quot;schedule&quot;: {
    &quot;type&quot;: &quot;cron&quot;,
    &quot;expression&quot;: &quot;0 9 * * *&quot;,
    &quot;timezone&quot;: &quot;America/New_York&quot;
  },
  &quot;filters&quot;: {
    &quot;industries&quot;: [&quot;Technology&quot;, &quot;Healthcare&quot;],
    &quot;dateRange&quot;: {
      &quot;start&quot;: &quot;2025-01-01&quot;,
      &quot;end&quot;: &quot;2025-12-31&quot;
    }
  },
  &quot;delivery&quot;: {
    &quot;method&quot;: &quot;webhook&quot;,
    &quot;destination&quot;: &quot;https://your-webhook.com/exports&quot;,
    &quot;format&quot;: &quot;csv&quot;
  }
}
</code></pre>
        <h4>List Schedules</h4>
        <pre><code class="language-bash">GET /api/v1/schedules?status=active&amp;templateId=salesforce-leads
</code></pre>
        <h4>Get Schedule Details</h4>
        <pre><code class="language-bash">GET /api/v1/schedules/{scheduleId}
</code></pre>
        <h4>Update Schedule</h4>
        <pre><code class="language-bash">PUT /api/v1/schedules/{scheduleId}
Content-Type: application/json

{
  &quot;status&quot;: &quot;paused&quot;,
  &quot;schedule&quot;: {
    &quot;expression&quot;: &quot;0 10 * * *&quot;
  }
}
</code></pre>
        <h4>Delete Schedule</h4>
        <pre><code class="language-bash">DELETE /api/v1/schedules/{scheduleId}
</code></pre>
        <h3>Analytics</h3>
        <h4>Get Usage Analytics</h4>
        <pre><code class="language-bash"># Client analytics
GET /api/v1/analytics?type=client&amp;clientId=your-client-id&amp;startDate=2025-01-01&amp;endDate=2025-01-24

# System analytics
GET /api/v1/analytics?type=system&amp;startDate=2025-01-01&amp;endDate=2025-01-24

# Real-time metrics
GET /api/v1/analytics?type=realtime
</code></pre>
        <h4>Export Analytics Data</h4>
        <pre><code class="language-bash">GET /api/v1/analytics/export?format=csv&amp;type=usage
</code></pre>
        <h4>Health Status</h4>
        <pre><code class="language-bash">GET /api/v1/analytics/health
</code></pre>
        <p><strong>Response:</strong></p>
        <pre><code class="language-json">{
  &quot;success&quot;: true,
  &quot;data&quot;: {
    &quot;status&quot;: &quot;healthy&quot;,
    &quot;services&quot;: [
      {
        &quot;service&quot;: &quot;api-framework&quot;,
        &quot;status&quot;: &quot;healthy&quot;,
        &quot;lastCheck&quot;: &quot;2025-01-24T12:00:00.000Z&quot;,
        &quot;responseTime&quot;: 45,
        &quot;uptime&quot;: 86400
      }
    ],
    &quot;performance&quot;: {
      &quot;realTime&quot;: {
        &quot;requestsPerMinute&quot;: 25,
        &quot;averageResponseTime&quot;: 150,
        &quot;errorRate&quot;: 0.5,
        &quot;activeClients&quot;: 5
      },
      &quot;alerts&quot;: []
    }
  }
}
</code></pre>
        <h4>Rate Limit Status</h4>
        <pre><code class="language-bash">GET /api/v1/analytics/rate-limits?clientId=your-client-id
</code></pre>
        <h2>Webhooks</h2>
        <h3>Webhook Events</h3>
        <ul>
          <li><code>export.completed</code> - Export operation completed successfully</li>
          <li><code>export.failed</code> - Export operation failed</li>
          <li><code>data.scraped</code> - New business data scraped</li>
          <li><code>data.validated</code> - Business data validation completed</li>
        </ul>
        <h3>Webhook Payload Format</h3>
        <pre><code class="language-json">{
  &quot;id&quot;: &quot;payload_1706140800000_abc123&quot;,
  &quot;event&quot;: &quot;export.completed&quot;,
  &quot;timestamp&quot;: &quot;2025-01-24T12:00:00.000Z&quot;,
  &quot;data&quot;: {
    &quot;exportId&quot;: &quot;export_1706140800000&quot;,
    &quot;templateId&quot;: &quot;salesforce-leads&quot;,
    &quot;recordsExported&quot;: 150,
    &quot;status&quot;: &quot;completed&quot;
  },
  &quot;metadata&quot;: {
    &quot;source&quot;: &quot;business-scraper&quot;,
    &quot;version&quot;: &quot;v1&quot;,
    &quot;requestId&quot;: &quot;req_1706140800000_xyz789&quot;
  }
}
</code></pre>
        <h3>Webhook Security</h3>
        <p>
          Webhooks include HMAC-SHA256 signatures in the <code>X-Webhook-Signature</code> header:
        </p>
        <pre><code class="language-javascript">const crypto = require(&#39;crypto&#39;);

function verifyWebhook(payload, signature, secret) {
  const expectedSignature = crypto
    .createHmac(&#39;sha256&#39;, secret)
    .update(payload)
    .digest(&#39;hex&#39;);
  
  const providedSignature = signature.replace(&#39;sha256=&#39;, &#39;&#39;);
  
  return crypto.timingSafeEqual(
    Buffer.from(expectedSignature, &#39;hex&#39;),
    Buffer.from(providedSignature, &#39;hex&#39;)
  );
}
</code></pre>
        <h2>Error Handling</h2>
        <h3>Error Response Format</h3>
        <pre><code class="language-json">{
  &quot;success&quot;: false,
  &quot;error&quot;: {
    &quot;code&quot;: &quot;VALIDATION_ERROR&quot;,
    &quot;message&quot;: &quot;Invalid template ID provided&quot;
  },
  &quot;metadata&quot;: {
    &quot;requestId&quot;: &quot;req_1706140800000_abc123&quot;,
    &quot;timestamp&quot;: &quot;2025-01-24T12:00:00.000Z&quot;,
    &quot;version&quot;: &quot;v1&quot;
  }
}
</code></pre>
        <h3>Common Error Codes</h3>
        <ul>
          <li><code>400</code> - Bad Request (validation errors, missing parameters)</li>
          <li><code>401</code> - Unauthorized (invalid or missing authentication)</li>
          <li><code>403</code> - Forbidden (insufficient permissions)</li>
          <li><code>404</code> - Not Found (resource doesn&#39;t exist)</li>
          <li><code>429</code> - Too Many Requests (rate limit exceeded)</li>
          <li><code>500</code> - Internal Server Error (server-side errors)</li>
        </ul>
        <h2>SDKs and Examples</h2>
        <h3>JavaScript/Node.js</h3>
        <pre><code class="language-javascript">const BusinessScraperAPI = require(&#39;@business-scraper/api-client&#39;);

const client = new BusinessScraperAPI({
  apiKey: &#39;your-api-key&#39;,
  baseUrl: &#39;https://your-domain.com/api/v1&#39;
});

// Export businesses to Salesforce
const result = await client.exports.create({
  templateId: &#39;salesforce-leads&#39;,
  businesses: businessData,
  options: { format: &#39;csv&#39; }
});

console.log(`Exported ${result.recordsExported} records`);
</code></pre>
        <h3>Python</h3>
        <pre><code class="language-python">from business_scraper_api import BusinessScraperClient

client = BusinessScraperClient(
    api_key=&#39;your-api-key&#39;,
    base_url=&#39;https://your-domain.com/api/v1&#39;
)

# Create scheduled export
schedule = client.schedules.create({
    &#39;name&#39;: &#39;Daily CRM Export&#39;,
    &#39;templateId&#39;: &#39;salesforce-leads&#39;,
    &#39;schedule&#39;: {
        &#39;type&#39;: &#39;cron&#39;,
        &#39;expression&#39;: &#39;0 9 * * *&#39;
    },
    &#39;delivery&#39;: {
        &#39;method&#39;: &#39;webhook&#39;,
        &#39;destination&#39;: &#39;https://your-webhook.com/exports&#39;
    }
})

print(f&quot;Created schedule: {schedule[&#39;id&#39;]}&quot;)
</code></pre>
        <h2>Support</h2>
        <p>For API support and questions:</p>
        <ul>
          <li>
            Documentation:
            <a href="https://docs.business-scraper.com">https://docs.business-scraper.com</a>
          </li>
          <li>
            Support: <a href="mailto:support@business-scraper.com">support@business-scraper.com</a>
          </li>
          <li>
            Status Page:
            <a href="https://status.business-scraper.com">https://status.business-scraper.com</a>
          </li>
        </ul>
      </main>

      <footer class="text-center mt-5 pt-4 border-top">
        <p class="text-muted">
          <strong>Business Scraper Application v3.0.0</strong> - Enterprise Multi-User Collaboration
          Platform
        </p>
        <p class="text-muted">
          <a href="readme.html">Documentation Hub</a> |
          <a href="https://github.com/mytech-today-now/business_scraper">GitHub Repository</a>
        </p>
        <p class="text-muted small">Last updated: 8/24/2025</p>
      </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
  </body>
</html>
