<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Search Engine Management - Intelligent Engine Control System - Business Scraper Documentation</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css">
    <style>
        .header-link {
            text-decoration: none;
            color: inherit;
        }
        .header-link:hover {
            text-decoration: underline;
        }
        .code-block {
            background-color: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
        }
        .table-responsive {
            margin: 1rem 0;
        }
        .nav-breadcrumb {
            background-color: #f8f9fa;
            padding: 0.75rem 1rem;
            border-radius: 0.375rem;
            margin-bottom: 1rem;
        }
        .back-to-docs {
            margin-bottom: 2rem;
        }
        .content-wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }
        .alert {
            border-radius: 0.375rem;
            padding: 1rem;
            margin: 1rem 0;
        }
        .alert-info {
            background-color: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }
        .alert-warning {
            background-color: #fff3cd;
            border-color: #ffecb5;
            color: #664d03;
        }
        .alert-success {
            background-color: #d1e7dd;
            border-color: #badbcc;
            color: #0f5132;
        }
        .alert-danger {
            background-color: #f8d7da;
            border-color: #f5c2c7;
            color: #842029;
        }
        .feature-card {
            border: 1px solid #dee2e6;
            border-radius: 0.375rem;
            padding: 1.5rem;
            margin: 1rem 0;
            background-color: #ffffff;
        }
        .status-badge {
            display: inline-block;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-size: 0.875rem;
            font-weight: 500;
        }
        .status-active {
            background-color: #d1e7dd;
            color: #0f5132;
        }
        .status-disabled {
            background-color: #f8d7da;
            color: #842029;
        }
        .status-session-disabled {
            background-color: #fff3cd;
            color: #664d03;
        }
    </style>
</head>
<body>
    <div class="content-wrapper">
        <div class="back-to-docs">
            <a href="readme.html" class="btn btn-outline-primary">
                ‚Üê Back to Documentation Hub
            </a>
        </div>
        
        <div class="nav-breadcrumb">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-0">
                    <li class="breadcrumb-item">
                        <a href="readme.html">Documentation</a>
                    </li>
                    <li class="breadcrumb-item active" aria-current="page">Search Engine Management</li>
                </ol>
            </nav>
        </div>

        <main class="documentation-content">
            <h1>üß† Intelligent Search Engine Management System</h1>

            <div class="alert alert-success">
                <strong>Status:</strong> Fully implemented and tested in v3.1.4 with comprehensive coverage and production-ready reliability.
            </div>

            <h2>üìä Overview</h2>
            <p>The Intelligent Search Engine Management System provides automatic duplicate detection, session-based engine disabling, and manual controls for optimizing search engine performance during scraping operations.</p>

            <div class="feature-card">
                <h3>üéØ Key Features</h3>
                <ul>
                    <li><strong>Automatic Duplicate Detection:</strong> 80% similarity threshold with configurable settings</li>
                    <li><strong>Session-based Engine Disabling:</strong> Temporary disabling of problematic engines</li>
                    <li><strong>Manual Engine Controls:</strong> User interface for enabling/disabling search engines</li>
                    <li><strong>Real-time Notifications:</strong> Toast notifications for automatic state changes</li>
                    <li><strong>State Persistence:</strong> Engine preferences saved across sessions</li>
                    <li><strong>Data Reset Integration:</strong> Engines reset to enabled state during application reset</li>
                </ul>
            </div>

            <h2>üîß Core Components</h2>

            <h3>SearchEngineManager Class</h3>
            <div class="code-block">
                <strong>Location:</strong> <code>src/lib/searchEngineManager.ts</code><br>
                <strong>Purpose:</strong> Centralized management of search engine states and duplicate detection
            </div>

            <h4>Key Methods:</h4>
            <ul>
                <li><code>enableEngine(engineId: string)</code> - Enable a specific search engine</li>
                <li><code>disableEngine(engineId: string)</code> - Disable a specific search engine</li>
                <li><code>checkForDuplicates(engineId: string, results: SearchResult[])</code> - Detect duplicate results</li>
                <li><code>startSession()</code> - Begin a new scraping session</li>
                <li><code>endSession()</code> - End current session and reset temporary states</li>
                <li><code>resetAllEngines()</code> - Reset all engines to enabled state</li>
            </ul>

            <h3>SearchEngineControls Component</h3>
            <div class="code-block">
                <strong>Location:</strong> <code>src/view/components/SearchEngineControls.tsx</code><br>
                <strong>Purpose:</strong> User interface for managing search engine states
            </div>

            <h4>UI Features:</h4>
            <ul>
                <li>Toggle switches for each search engine (Google, Azure AI Search, DuckDuckGo)</li>
                <li>Visual status indicators with color-coded badges</li>
                <li>Reset all engines button for quick restoration</li>
                <li>Real-time state updates and synchronization</li>
            </ul>

            <h2>üé® Engine Status Indicators</h2>

            <div class="table-responsive">
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th>Status</th>
                            <th>Badge</th>
                            <th>Description</th>
                            <th>User Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Active</td>
                            <td><span class="status-badge status-active">Active</span></td>
                            <td>Engine is enabled and available for use</td>
                            <td>Can disable manually</td>
                        </tr>
                        <tr>
                            <td>Disabled</td>
                            <td><span class="status-badge status-disabled">Disabled</span></td>
                            <td>Engine manually disabled by user</td>
                            <td>Can enable manually</td>
                        </tr>
                        <tr>
                            <td>Session Disabled</td>
                            <td><span class="status-badge status-session-disabled">Session Disabled</span></td>
                            <td>Engine automatically disabled due to duplicates</td>
                            <td>Can enable manually or wait for session end</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <h2>‚öôÔ∏è Configuration</h2>

            <h3>Duplicate Detection Settings</h3>
            <div class="code-block">
                <pre><code>// Default configuration
DUPLICATE_THRESHOLD = 2              // Number of duplicates before disabling
RESULT_COMPARISON_THRESHOLD = 0.8    // 80% similarity threshold
STORAGE_KEY = 'search-engine-state'  // localStorage key</code></pre>
            </div>

            <h3>Engine Configuration</h3>
            <div class="code-block">
                <pre><code>// Supported search engines
engines: {
  google: 'Google Search',
  azure: 'Azure AI Search', 
  duckduckgo: 'DuckDuckGo'
}</code></pre>
            </div>

            <h2>üîÑ Integration Points</h2>

            <h3>API Configuration Page</h3>
            <p>The SearchEngineControls component is integrated into the API Configuration page, providing users with centralized access to both API settings and search engine management.</p>

            <h3>Data Reset Service</h3>
            <p>When users reset application data, search engines are automatically reset to their enabled state, ensuring a fresh start for scraping operations.</p>

            <h3>Scraping Dashboard</h3>
            <p>The scraping dashboard monitors search engine states and provides real-time feedback when engines are automatically disabled due to duplicate detection.</p>

            <h2>üß™ Testing Coverage</h2>

            <div class="alert alert-info">
                <strong>Test Coverage:</strong> Comprehensive test suites ensure reliability and proper functionality across all scenarios.
            </div>

            <h3>SearchEngineManager Tests</h3>
            <ul>
                <li>Engine state management (enable/disable functionality)</li>
                <li>Duplicate detection algorithm with various similarity scenarios</li>
                <li>Session-based engine disabling and tracking</li>
                <li>State persistence and localStorage integration</li>
                <li>Error handling for invalid operations</li>
            </ul>

            <h3>SearchEngineControls Tests</h3>
            <ul>
                <li>Component rendering and initialization</li>
                <li>User interaction handling (toggle switches, reset button)</li>
                <li>State synchronization with SearchEngineManager</li>
                <li>Visual feedback and status display</li>
                <li>Error boundary testing</li>
            </ul>

            <h2>üöÄ Usage Examples</h2>

            <h3>Basic Usage</h3>
            <div class="code-block">
                <pre><code>// Import the manager
import { searchEngineManager } from '@/lib/searchEngineManager'

// Start a scraping session
searchEngineManager.startSession()

// Check for duplicates
const hasDuplicates = searchEngineManager.checkForDuplicates('google', results)

// End session
searchEngineManager.endSession()</code></pre>
            </div>

            <h3>Manual Engine Control</h3>
            <div class="code-block">
                <pre><code>// Disable an engine
searchEngineManager.disableEngine('google')

// Enable an engine
searchEngineManager.enableEngine('google')

// Reset all engines
searchEngineManager.resetAllEngines()</code></pre>
            </div>

            <h2>üîç Troubleshooting</h2>

            <h3>Common Issues</h3>
            <ul>
                <li><strong>Engine not responding:</strong> Check if engine is disabled in settings</li>
                <li><strong>Duplicate detection too sensitive:</strong> Adjust similarity threshold in configuration</li>
                <li><strong>State not persisting:</strong> Verify localStorage is available and not blocked</li>
                <li><strong>UI not updating:</strong> Check component state synchronization</li>
            </ul>

            <h3>Debug Information</h3>
            <div class="code-block">
                <pre><code>// Get current engine states
const engines = searchEngineManager.getAllEngines()
console.log('Engine states:', engines)

// Check available engines
const hasAvailable = searchEngineManager.hasAvailableEngines()
console.log('Has available engines:', hasAvailable)</code></pre>
            </div>

            <div class="alert alert-success">
                <strong>Production Ready:</strong> The Search Engine Management system is fully tested and ready for production deployment with comprehensive error handling and user-friendly interfaces.
            </div>

        </main>

        <footer class="text-center mt-5 pt-4 border-top">
            <p class="text-muted">
                <strong>Business Scraper Application v3.1.4</strong> - Intelligent Search Engine Management
            </p>
            <p class="text-muted">
                <a href="readme.html">Documentation Hub</a> | 
                <a href="https://github.com/mytech-today-now/business_scraper">GitHub Repository</a>
            </p>
            <p class="text-muted small">Last updated: 8/25/2025</p>
        </footer>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
</body>
</html>
